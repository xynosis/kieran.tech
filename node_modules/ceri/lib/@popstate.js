var cbs;

cbs = [];

window.onpopstate = function(e) {
  var i, len, o, results;
  results = [];
  for (i = 0, len = cbs.length; i < len; i++) {
    o = cbs[i];
    results.push(o.cb.call(o["this"], window, e));
  }
  return results;
};

module.exports = {
  _name: "@popstate",
  _v: 1,
  mixins: [require("./events")],
  _evLookup: {
    popstate: function(o) {
      o["this"] = this;
      o.activate = function() {
        cbs.push(o);
        return function() {
          return cbs.splice(cbs.indexOf(o), 1);
        };
      };
      return o;
    }
  }
};
